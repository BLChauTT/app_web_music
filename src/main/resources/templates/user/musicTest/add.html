<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Index</title>
	<link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
	<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
	<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
	<script>
		$(function () {
			$("#created").datepicker({
				dateFormat: 'dd/mm/yy'
			});
		});
		function setReleaseDate() {
			var currentDate = new Date();
			var day = currentDate.getDate();
			var month = currentDate.getMonth() + 1;
			var year = currentDate.getFullYear();

			if (day < 10) {
				day = '0' + day;
			}
			if (month < 10) {
				month = '0' + month;
			}

			var formattedDate = day + '/' + month + '/' + year;

			document.getElementById('releaseDate').value = formattedDate;
		}
	</script>
</head>

<body>
	<a th:href="@{/song/findAll}">Back</a>
	<h3>Add Song</h3>
	<th:block th:text="${msg}"></th:block>
	<form method="post" th:action="@{/songDetail/add}" enctype="multipart/form-data">
		<table border="0">
			<tr>
				<td valign="top">Title</td>
				<td valign="top">
					<input type="text" th:field="${songDetail.title}">
				</td>
			</tr>
			<tr>
				<td>Lyric</td>
				<td>
					<textarea cols="20" rows="5" th:field="${songDetail.lyric}"></textarea>
				</td>
			</tr>
			<tr>
				<td>SongTime</td>
				<td>
					<input type="text" th:field="${songDetail.songTime}">
				</td>
			</tr>
			<tr>
				<td>Category</td>
				<td>
					<select th:field="${songDetail.songs}">
						<option th:each="category : ${categories}"
								th:value="${category.categoryId}" th:text="${category.categoryName}"></option>
					</select>
				</td>
			</tr>
			<tr>
				<td>Release Date</td>
				<td>
					<input type="text" id="releaseDate" th:field="${songDetail.releaseDate}">
					<button type="button" onclick="setReleaseDate()">Set Current Date</button>
				</td>
			</tr>
			<tr>
				<td>Status</td>
				<td>
					<select th:field="${songDetail.status}">
						<option value="1">1</option>
						<option value="2">2</option>
					</select>
				</td>
			</tr>
			<tr>
				<td>Photo</td>
				<td>
					<input type="file" name="fileImage">
				</td>
			</tr>
			<tr>
				<td>Song</td>
				<td>
					<input type="file" name="fileMusic">
				</td>
			</tr>
			<tr>
				<td>&nbsp;</td>
				<td>
					<input type="submit" value="Save">
				</td>
			</tr>
		</table>
	</form>

</body>

</html>