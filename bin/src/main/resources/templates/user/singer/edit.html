<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Index</title>
	<link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
	<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
	<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
	<script>
		$(function () {
			$("#created").datepicker({
				dateFormat: 'dd/mm/yy'
			});
		});
	</script>
</head>

<body>

	<a th:href="@{/productjpa/index}">Back</a>
	<h3>Edit Product</h3>
	<th:block th:text="${msg}"></th:block>
	<form method="post" th:action="@{/productjpa/edit}" enctype="multipart/form-data">
		<table border="0">
			<tr>
				<td>Name</td>
				<td>
					<input type="text" th:field="${product.name}">
				</td>
			</tr>
			<tr>
				<td>Price</td>
				<td>
					<input type="text" th:field="${product.price}">
				</td>
			</tr>
			<tr>
				<td>Quantity</td>
				<td>
					<input type="text" th:field="${product.quantity}">
				</td>
			</tr>
			<tr>
				<td>Created</td>
				<td>
					<input type="text" th:field="${product.created}">
				</td>
			</tr>
			<tr>
				<td valign="top">Description</td>
				<td valign="top">
					<textarea cols="20" rows="5" th:field="${product.description}"></textarea>
				</td>
			</tr>
			<tr>
				<td>Status</td>
				<td>
					<input type="checkbox" th:field="${product.status}">
				</td>
			</tr>
			<tr>
				<td>Category</td>
				<td>
					<select th:field="${product.category.id}">
						<option th:each="category : ${categories}" 
							th:value="${category.id}" th:text="${category.name}"></option>
					</select>
				</td>
			</tr>
			<tr>
				<td valign="top">Photo</td>
				<td>
					<input type="file" name="file">
					<br>
					<img th:src="@{'/assets/images/' + ${product.photo}}" width="70" height="70">
				</td>
			</tr>
			<tr>
				<td>&nbsp;</td>
				<td>
					<input type="submit" value="Save">
					<input type="hidden" th:field="${product.id}">
					<input type="hidden" th:field="${product.photo}">
				</td>
			</tr>
		</table>
	</form>

</body>

</html>